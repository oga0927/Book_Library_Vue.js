{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/thread-loader/dist/cjs.js!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue","mtime":1619220900501},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9vZ2EwOTI3L0Rlc2t0b3AvQm9va19MaWJyYXJ5X1Z1ZS5qcy9ib29rYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9vZ2EwOTI3L0Rlc2t0b3AvQm9va19MaWJyYXJ5X1Z1ZS5qcy9ib29rYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQm9va1NlYXJjaCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleXdvcmQ6ICcnLAogICAgICBzZWFyY2hSZXN1bHRzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEJvb2tMaXN0OiBmdW5jdGlvbiBhZGRCb29rTGlzdChpbmRleCkgewogICAgICAvLyDjgq/jg6rjg4Pjgq/jgZfjgZ/nrofmiYDjgpLmjIflrpoKICAgICAgdGhpcy4kZW1pdCgnYWRkLWJvb2stbGlzdCcsIHRoaXMuc2VhcmNoUmVzdWx0c1tpbmRleF0pOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGtleXdvcmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGJhc2VVcmwsIHBhcmFtcywgcXVlcnlQYXJhbXMsIHJlc3BvbnNlLCBfaXRlcmF0b3IsIF9zdGVwLCBib29rLCB0aXRsZSwgaW1nLCBkZXNjcmlwdGlvbjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gR29vZ2xlQm9va0FwaeOBrlVSTOOCkuS9nOaIkO+8iOOCr+OCqOODquODvOOCueODiOODquODs+OCsOOCkuS9nOaIkO+8iQogICAgICAgICAgICAgICAgYmFzZVVybCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9ib29rcy92MS92b2x1bWVzPyc7IC8vIOOCquODluOCuOOCp+OCr+ODiOW9ouW8j+OBp3BhcmFtc+OCkuS9nOaIkAoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgcTogImludGl0bGU6Ii5jb25jYXQoa2V5d29yZCksCiAgICAgICAgICAgICAgICAgIG1heFJlc3VsdHM6IDQwCiAgICAgICAgICAgICAgICB9OyAvLyB1cmzjgpLkvZzmiJDjgZfjgabjgqrjg5bjgrjjgqfjgq/jg4jjga7kuK3jgatrZXnjgah2YWx1ZeOCkuioreWumgoKICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpOyAvLyBmZXRjaOOBp0pTT07lj5blvpcKICAgICAgICAgICAgICAgIC8vIGZldGNo44GncXVlcnlQYXJhbXPjgpLov73liqDjgILjg5Hjg6njg6Hjg7zjgr/jg7zku5jjgY3jga5VUkzjgpLlj5blvpcKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChiYXNlVXJsICsgcXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy8g5b+F6KaB44Gq5oOF5aCx44KS6YWN5YiX44GrcHVzaAogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzcG9uc2UuaXRlbXMpOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgYm9vayA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLml0ZW1zKTsKICAgICAgICAgICAgICAgICAgICAvLyDjgr/jgqTjg4jjg6vjgpLlj5blvpcKICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGJvb2sudm9sdW1lSW5mby50aXRsZTsgLy8g55S75YOP44KS5Y+W5b6XCgogICAgICAgICAgICAgICAgICAgIGltZyA9IGJvb2sudm9sdW1lSW5mby5pbWFnZUxpbmtzOyAvLyDoqbPntLDjgpLlj5blvpcKCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBib29rLnZvbHVtZUluZm8uZGVzY3JpcHRpb247CgogICAgICAgICAgICAgICAgICAgIF90aGlzLnNlYXJjaFJlc3VsdHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUgPyB0aXRsZSA6ICcnLAogICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltZyA/IGltZy50aHVtYm5haWwgOiAnJywKICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/IGRlc2NyaXB0aW9uLnNsaWNlKDAsIDQwKSA6ICcnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["BookSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,KADA,EACA;AACA;AACA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,aAAA,CAAA,KAAA,CAAA;AAEA,KALA;AAMA,IAAA,MANA,kBAMA,OANA,EAMA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,OAFA,GAEA,8CAFA,EAGA;;AACA,gBAAA,MAJA,GAIA;AACA,kBAAA,CAAA,oBAAA,OAAA,CADA;AAEA,kBAAA,UAAA,EAAA;AAFA,iBAJA,EASA;;AACA,gBAAA,WAVA,GAUA,IAAA,eAAA,CAAA,MAAA,CAVA,EAYA;AACA;;AAbA;AAAA,uBAcA,KAAA,CAAA,OAAA,GAAA,WAAA,CAAA,CAEA,IAFA,CAEA,UAAA,QAAA;AAAA,yBAAA,QAAA,CAAA,IAAA,EAAA;AAAA,iBAFA,CAdA;;AAAA;AAcA,gBAAA,QAdA;AAkBA;AAlBA,uDAmBA,QAAA,CAAA,KAnBA;;AAAA;AAmBA,sEAAA;AAAA,oBAAA,IAAA;AACA;AACA;AACA,oBAAA,KAHA,GAGA,IAAA,CAAA,UAAA,CAAA,KAHA,EAIA;;AACA,oBAAA,GALA,GAKA,IAAA,CAAA,UAAA,CAAA,UALA,EAMA;;AACA,oBAAA,WAPA,GAOA,IAAA,CAAA,UAAA,CAAA,WAPA;;AAQA,oBAAA,KAAA,CAAA,aAAA,CAAA,IAAA,CAAA;AACA,sBAAA,KAAA,EAAA,KAAA,GAAA,KAAA,GAAA,EADA;AAEA,sBAAA,KAAA,EAAA,GAAA,GAAA,GAAA,CAAA,SAAA,GAAA,EAFA;AAGA,sBAAA,WAAA,EAAA,WAAA,GAAA,WAAA,CAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,GAAA;AAHA,qBAAA;AAKA;AAhCA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCA;AAxCA;AARA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=6>\n        <v-text-field \n          label=\"本を検索する\"\n          v-model=\"keyword\">\n        </v-text-field>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-btn\n          color=\"primary\"\n          @click=\"search(keyword)\">\n          検索する\n        </v-btn>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-btn\n          color:\n          to=\"/\"\n          >\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <!-- カードを表示 -->\n      <v-col \n        cols=\"12\" md=\"6\"\n        v-for=\"(book,index) in searchResults\" :key=\"book.index\">\n        <!-- mx-autoでmargin横幅の自動調整 -->\n        <v-card class=\"mx-auto\">\n          <v-row>\n            <!-- 画像のサイズ -->\n            <v-col cols=\"4\">\n              <v-img :src=\"book.image\"></v-img>\n            </v-col>\n            <!-- 写真以外の情報 -->\n            <v-col cols=\"8\">\n              <v-card-title>\n                {{ book.title}}\n              </v-card-title>\n              {{ book.description }}\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-btn \n                  class=\"mx-2\" \n                  fab dark color=\"indigo\"\n                  @click=\"addBookList(index)\"\n                >\n                  <v-icon dark>\n                    mdi-plus\n                  </v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-col>\n          </v-row>\n        </v-card> \n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BookSearch',\n  data(){\n    return {\n      keyword:'',\n      searchResults:[],\n    }\n  },\n  methods:{\n    addBookList(index) {\n      // クリックした箇所を指定\n      this.$emit('add-book-list',this.searchResults[index]) \n      \n    },\n    async search(keyword){\n      // GoogleBookApiのURLを作成（クエリーストリングを作成）\n    const baseUrl = 'https://www.googleapis.com/books/v1/volumes?'\n    // オブジェクト形式でparamsを作成\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults:40,\n    }\n    \n    // urlを作成してオブジェクトの中にkeyとvalueを設定\n    const queryParams = new URLSearchParams(params)\n\n    // fetchでJSON取得\n    // fetchでqueryParamsを追加。パラメーター付きのURLを取得\n    const response = await fetch(baseUrl + queryParams)\n\n    .then( response => response.json())\n      \n    // 必要な情報を配列にpush\n    for(let book of response.items ){\n      // console.log(response.items);\n      // タイトルを取得\n      let title = book.volumeInfo.title\n      // 画像を取得\n      let img = book.volumeInfo.imageLinks\n      // 詳細を取得\n      let description = book.volumeInfo.description\n      this.searchResults.push({\n        title: title ? title : '',\n        image: img ? img.thumbnail : '',\n        description: description ? description.slice(0, 40) : ''\n      })\n    }\n    \n  }\n}\n}\n</script>"],"sourceRoot":"src/pages"}]}