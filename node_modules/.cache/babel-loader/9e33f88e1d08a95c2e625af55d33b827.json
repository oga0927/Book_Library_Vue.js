{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Profile.vue","mtime":1619220965810},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIFNUT1JBR0VfS0VZID0gJ2Jvb2tzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBib29rczogQXJyYXkKICB9LAogIG5hbWU6ICdQcm9maWxlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRTdGF0ZVVzZXIsCiAgICAgIHVzZXJOYW1lOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVVzZXI6IGZ1bmN0aW9uIGRlbGV0ZVVzZXIoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1c2VyRGVsZXRlIik7CiAgICB9LAogICAgc2F2ZUJvb2tzOiBmdW5jdGlvbiBzYXZlQm9va3MoKSB7CiAgICAgIHZhciBwYXJzZWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmJvb2tzKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIHBhcnNlZCk7CiAgICB9LAogICAgZGVsaXRlTG9jYWxTdG9yYWdlOiBmdW5jdGlvbiBkZWxpdGVMb2NhbFN0b3JhZ2UoaW5kZXgpIHsKICAgICAgdmFyIGlzRGVsZXRlZCA9ICfjg4fjg7zjgr/jgpLliYrpmaTjgZfjgabjgoLjgYTjgYTjgafjgZnjgYvvvJ8nOwoKICAgICAgaWYgKHdpbmRvdy5jb25maXJtKGlzRGVsZXRlZCkpIHsKICAgICAgICB0aGlzLmJvb2tzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5zYXZlQm9va3MoKTsKICAgICAgICB0aGlzLmJvb2tzID0gW107CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZ2V0U3RhdGVVc2VyOiBmdW5jdGlvbiBnZXRTdGF0ZVVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFN0YXRlVXNlcjsKICAgIH0sCiAgICBnZXRTdGF0ZVVzZXJOYW1lOiBmdW5jdGlvbiBnZXRTdGF0ZVVzZXJOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRVc2VyTmFtZTsKICAgIH0sCiAgICBpc0F1dGhlbnRpY2F0ZWQ6IGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA,IAAA,WAAA,GAAA,OAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA,SAJA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,SAAA,CAAA,KAAA,KAAA,CAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,WAAA,EAAA,MAAA;AACA,KAPA;AAQA,IAAA,kBARA,8BAQA,KARA,EAQA;AACA,UAAA,SAAA,GAAA,iBAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,EAAA;AAEA,aAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,aAAA,SAAA;AACA,aAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA;AACA;AAjBA,GAXA;AA8BA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YAAA;AACA,KAHA;AAIA,IAAA,gBAJA,8BAIA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA,KANA;AAOA,IAAA,eAPA,6BAOA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA;AACA;AATA;AA9BA,CAAA","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=\"12\">\n        <p v-if=\"getStateUserName\">こんにちは！\n          {{ getStateUserName }}さん\n          </p>\n          <p v-else>こんにちは！ゲストユーザーさん</p>\n          <p>\n            <v-btn\n              color=\"orange lighten-1\"\n              to=\"/search\"\n            >\n            本を投稿する\n            </v-btn>\n          </p>\n          <p>\n            <v-btn\n              color=\"error\"\n              class=\"delete-btn\"\n              @click=\"deleteUser\"\n            >\n            アカウントを削除\n            </v-btn>\n          </p>\n          <v-col \n            cols=\"12\" \n            sm=\"6\" \n            md=\"6\" \n            v-for=\"(book, index) in books\" \n            :key=\"index\"\n          >\n            <!-- 自分が投稿した本の一覧 -->\n            <!-- 投稿した本のuseIdとログイン中のuserIdが同じのを表示 -->\n            <v-card  v-if=\"book.userId === $store.state.userId\" class=\"mb-8\">\n              <v-row>\n                <v-col cols=\"3\">\n                  <!-- 画像が表示される -->\n                  <v-img :src=\"book.image\"></v-img>\n                    </v-col>\n                    <v-col cols=\"9\">\n                      <v-card-title >{{ book.title }}</v-card-title>\n                      <v-spacer></v-spacer>\n                      <v-card-actions>\n                        <!-- 書き込み -->\n                        <v-btn \n                          :to=\"{name: 'BookEdit', params: {id: index}}\"\n                          color=\"primary\"\n                          class=\"mx-1\"\n                        >\n                        編集する\n                        </v-btn>\n                        <v-spacer></v-spacer>\n                          <v-btn \n                            color=\"error\"\n                            @click=\"deliteLocalStorage(index)\"\n                          >\n                          削除\n                          </v-btn>\n                        <!-- </span> -->\n                        <!-- いいねボタン -->\n                          <!-- <v-btn\n                            icon\n                            color=\"pink\"\n                            @click=\"addCount(index)\"\n                          >\n                      <v-icon>mdi-heart</v-icon>\n                      {{ booklikes.counts }}\n                      {{ $store.state.count }}\n                    </v-btn> -->\n                </v-card-actions>\n              </v-col>\n            </v-row>\n            </v-card>\n        </v-col>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\n\nconst STORAGE_KEY = 'books'\n\nexport default {\n  props: {\n    books: Array,\n  },\n  name: 'Profile',\n  data() {\n    return {\n      user: this.$store.getters.getStateUser,\n      userName: ''\n    }\n  },\n  methods: {\n    deleteUser() {\n      this.$store.dispatch(\"userDelete\");\n    },\n    saveBooks() {\n      const parsed = JSON.stringify(this.books);\n      localStorage.setItem(STORAGE_KEY, parsed);\n    },\n    deliteLocalStorage(index) {\n      const isDeleted = 'データを削除してもいいですか？'\n      if(window.confirm(isDeleted)) {\n\n        this.books.splice(index, 1)\n        this.saveBooks();\n        this.books = []\n        window.location.reload()\n      }\n    },\n  },\n  computed: {\n    getStateUser() {\n      return this.$store.getters.getStateUser;\n    },\n    getStateUserName() {\n      return this.$store.getters.getUserName;\n    },\n    isAuthenticated() {\n      return this.$store.getters.isAuthenticated;\n    }\n  },\n}\n\n</script>"],"sourceRoot":"src/pages"}]}