{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue","mtime":1619078014817},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQm9va1NlYXJjaCcsCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAga2V5d29yZDonJywKICAgICAgc2VhcmNoUmVzdWx0czpbXSwKICAgIH0KICB9LAogIG1ldGhvZHM6ewogICAgYWRkQm9va0xpc3QoaW5kZXgpIHsKICAgICAgLy8g44Kv44Oq44OD44Kv44GX44Gf566H5omA44KS5oyH5a6aCiAgICAgIHRoaXMuJGVtaXQoJ2FkZC1ib29rLWxpc3QnLHRoaXMuc2VhcmNoUmVzdWx0c1tpbmRleF0pIAogICAgICAKICAgIH0sCiAgICBhc3luYyBzZWFyY2goa2V5d29yZCl7CiAgICAgIC8vIEdvb2dsZUJvb2tBcGnjga5VUkzjgpLkvZzmiJDvvIjjgq/jgqjjg6rjg7zjgrnjg4jjg6rjg7PjgrDjgpLkvZzmiJDvvIkKICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEvdm9sdW1lcz8nCiAgICAvLyDjgqrjg5bjgrjjgqfjgq/jg4jlvaLlvI/jgadwYXJhbXPjgpLkvZzmiJAKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIHE6IGBpbnRpdGxlOiR7a2V5d29yZH1gLAogICAgICAgIG1heFJlc3VsdHM6NDAsCiAgICB9CiAgICAKICAgIC8vIHVybOOCkuS9nOaIkOOBl+OBpuOCquODluOCuOOCp+OCr+ODiOOBruS4reOBq2tleeOBqHZhbHVl44KS6Kit5a6aCiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKQoKICAgIC8vIGZldGNo44GnSlNPTuWPluW+lwogICAgLy8gZmV0Y2jjgadxdWVyeVBhcmFtc+OCkui/veWKoOOAguODkeODqeODoeODvOOCv+ODvOS7mOOBjeOBrlVSTOOCkuWPluW+lwogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgcXVlcnlQYXJhbXMpCgogICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgCiAgICAvLyDlv4XopoHjgarmg4XloLHjgpLphY3liJfjgatwdXNoCiAgICBmb3IobGV0IGJvb2sgb2YgcmVzcG9uc2UuaXRlbXMgKXsKICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuaXRlbXMpOwogICAgICAvLyDjgr/jgqTjg4jjg6vjgpLlj5blvpcKICAgICAgbGV0IHRpdGxlID0gYm9vay52b2x1bWVJbmZvLnRpdGxlCiAgICAgIC8vIOeUu+WDj+OCkuWPluW+lwogICAgICBsZXQgaW1nID0gYm9vay52b2x1bWVJbmZvLmltYWdlTGlua3MKICAgICAgLy8g6Kmz57Sw44KS5Y+W5b6XCiAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGJvb2sudm9sdW1lSW5mby5kZXNjcmlwdGlvbgogICAgICB0aGlzLnNlYXJjaFJlc3VsdHMucHVzaCh7CiAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJywKICAgICAgICBpbWFnZTogaW1nID8gaW1nLnRodW1ibmFpbCA6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/IGRlc2NyaXB0aW9uLnNsaWNlKDAsIDQwKSA6ICcnCiAgICAgIH0pCiAgICB9CiAgICAKICB9Cn0KfQo="},{"version":3,"sources":["BookSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"BookSearch.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=6>\n        <v-text-field \n          label=\"本を検索する\"\n          v-model=\"keyword\">\n        </v-text-field>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-btn\n          color=\"primary\"\n          @click=\"search(keyword)\">\n          検索する\n        </v-btn>\n      </v-col>\n      <v-col cols=\"3\">\n        <v-btn\n          color:\n          to=\"/\"\n          >一覧に戻る\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <!-- カードを表示 -->\n      <v-col \n        cols=\"12\" md=\"6\"\n        v-for=\"(book,index) in searchResults\" :key=\"book.index\">\n        <!-- mx-autoでmargin横幅の自動調整 -->\n        <v-card class=\"mx-auto\">\n          <v-row>\n            <!-- 画像のサイズ -->\n            <v-col cols=\"4\">\n              <v-img :src=\"book.image\"></v-img>\n            </v-col>\n            <!-- 写真以外の情報 -->\n            <v-col cols=\"8\">\n              <v-card-title>\n                {{ book.title}}\n              </v-card-title>\n              {{ book.description }}\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-btn \n                  class=\"mx-2\" \n                  fab dark color=\"indigo\"\n                  @click=\"addBookList(index)\"\n                >\n                  <v-icon dark>\n                    mdi-plus\n                  </v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-col>\n          </v-row>\n        </v-card> \n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BookSearch',\n  data(){\n    return {\n      keyword:'',\n      searchResults:[],\n    }\n  },\n  methods:{\n    addBookList(index) {\n      // クリックした箇所を指定\n      this.$emit('add-book-list',this.searchResults[index]) \n      \n    },\n    async search(keyword){\n      // GoogleBookApiのURLを作成（クエリーストリングを作成）\n    const baseUrl = 'https://www.googleapis.com/books/v1/volumes?'\n    // オブジェクト形式でparamsを作成\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults:40,\n    }\n    \n    // urlを作成してオブジェクトの中にkeyとvalueを設定\n    const queryParams = new URLSearchParams(params)\n\n    // fetchでJSON取得\n    // fetchでqueryParamsを追加。パラメーター付きのURLを取得\n    const response = await fetch(baseUrl + queryParams)\n\n    .then( response => response.json())\n      \n    // 必要な情報を配列にpush\n    for(let book of response.items ){\n      // console.log(response.items);\n      // タイトルを取得\n      let title = book.volumeInfo.title\n      // 画像を取得\n      let img = book.volumeInfo.imageLinks\n      // 詳細を取得\n      let description = book.volumeInfo.description\n      this.searchResults.push({\n        title: title ? title : '',\n        image: img ? img.thumbnail : '',\n        description: description ? description.slice(0, 40) : ''\n      })\n    }\n    \n  }\n}\n}\n</script>"]}]}