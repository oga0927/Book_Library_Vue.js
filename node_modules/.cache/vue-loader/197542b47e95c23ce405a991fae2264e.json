{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Search.vue?vue&type=style&index=0&id=4da00568&scoped=true&lang=css&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Search.vue","mtime":1616119879878},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYnRuUmVkIHsKICBjb2xvcjogcmVkOwp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA","file":"Search.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <v-container>\n      <v-row>\n        <v-col cols=6>\n          <v-text-field \n            class=\"btnRed\"\n            label=\"本のタイトル\"\n            v-model=\"keyword\">\n          </v-text-field>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"3\">\n          <v-btn\n            color=\"primary\"\n            @click=\"search(keyword)\">\n            検索する\n          </v-btn>\n        </v-col>\n        <v-col cols=\"3\">\n          <!-- ボタンの中でtoを設定することでジャンプできる -->\n          <v-btn\n            color:\n            to=\"/\"\n            >一覧に戻る\n          </v-btn>\n        </v-col>\n      </v-row>\n      <v-row>\n        <!-- カードを表示 -->\n        <v-col \n          cols=\"12\" md=\"6\"\n          v-for=\"(book,index) in searchResults\" :key=\"book.index\">\n          <!-- mx-autoでmargin横幅の自動調整 -->\n          <v-card class=\"mx-auto\">\n            <v-row>\n              <!-- 画像のサイズ -->\n              <v-col cols=\"4\">\n                <v-img :src=\"book.image\"></v-img>\n              </v-col>\n              <!-- 写真以外の情報 -->\n              <v-col cols=\"8\">\n                <v-card-title>\n                  {{ book.title}}\n                </v-card-title>\n                {{ book.description }}\n                <v-spacer></v-spacer>\n                <v-card-actions>\n                  <v-btn \n                  class=\"mx-2\" \n                  fab dark color=\"indigo\"\n                  @click=\"addBookList(index)\">\n                    <v-icon dark>\n                      mdi-plus\n                    </v-icon>\n                  </v-btn>\n                </v-card-actions>\n              </v-col>\n            </v-row>\n          </v-card> \n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  // コンポーネントに名前をつける\n  name: 'BookSearch',\n  data(){\n    return {\n      keyword:'',\n      searchResults:[]\n    }\n  },\n  methods:{\n    async search(keyword){\n      this.searchResults = []\n    // クエリーストリングを作成\n    const baseUrl = 'https://www.googleapis.com/books/v1/volumes?'\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults:40\n    }\n    const queryParams = new URLSearchParams(params)\n    console.log(baseUrl + queryParams)\n\n    // fetchでJSON取得\n    const response = await fetch(baseUrl + queryParams)\n    .then( response => response.json())\n    console.log(response.items)\n    // 必要な情報を配列にpush\n    for(let book of response.items ){\n      let title = book.volumeInfo.title\n      let img = book.volumeInfo.imageLinks\n      let description = book.volumeInfo.description\n      this.searchResults.push({\n        title: title ? title : '',\n        image: img ? img.thumbnail : '',\n        description: description ? description.slice(0, 40) : ''\n      })\n    }\n  }\n}\n}\n</script>\n\n<style scoped>\n  .btnRed {\n    color: red;\n  }\n</style>"]}]}