{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookSearch.vue","mtime":1616317766806},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAvLyDjgrPjg7Pjg53jg7zjg43jg7Pjg4jjgavlkI3liY3jgpLjgaTjgZHjgosKICBuYW1lOiAnQm9va1NlYXJjaCcsCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAga2V5d29yZDonJywKICAgICAgc2VhcmNoUmVzdWx0czpbXQogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBhZGRCb29rTGlzdChpbmRleCkgewogICAgICAvLyDjgq/jg6rjg4Pjgq/jgZfjgZ/nrofmiYDjgpLmjIflrpoKICAgICAgdGhpcy4kZW1pdCgnYWRkLWJvb2stbGlzdCcsdGhpcy5zZWFyY2hSZXN1bHRzW2luZGV4XSkKICAgIH0sCiAgICBhc3luYyBzZWFyY2goa2V5d29yZCl7CiAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IFtdCiAgICAvLyDjgq/jgqjjg6rjg7zjgrnjg4jjg6rjg7PjgrDjgpLkvZzmiJAKICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEvdm9sdW1lcz8nCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBxOiBgaW50aXRsZToke2tleXdvcmR9YCwKICAgICAgICBtYXhSZXN1bHRzOjQwCiAgICB9CiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKQogICAgY29uc29sZS5sb2coYmFzZVVybCArIHF1ZXJ5UGFyYW1zKQogICAgLy8gZmV0Y2jjgadKU09O5Y+W5b6XCiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGJhc2VVcmwgKyBxdWVyeVBhcmFtcykKICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5pdGVtcykKICAgIC8vIOW/heimgeOBquaDheWgseOCkumFjeWIl+OBq3B1c2gKICAgIGZvcihsZXQgYm9vayBvZiByZXNwb25zZS5pdGVtcyApewogICAgICBsZXQgdGl0bGUgPSBib29rLnZvbHVtZUluZm8udGl0bGUKICAgICAgbGV0IGltZyA9IGJvb2sudm9sdW1lSW5mby5pbWFnZUxpbmtzCiAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGJvb2sudm9sdW1lSW5mby5kZXNjcmlwdGlvbgogICAgICB0aGlzLnNlYXJjaFJlc3VsdHMucHVzaCh7CiAgICAgICAgdGl0bGU6IHRpdGxlID8gdGl0bGUgOiAnJywKICAgICAgICBpbWFnZTogaW1nID8gaW1nLnRodW1ibmFpbCA6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/IGRlc2NyaXB0aW9uLnNsaWNlKDAsIDQwKSA6ICcnCiAgICAgIH0pCiAgICB9CiAgfQp9Cn0K"},{"version":3,"sources":["BookSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookSearch.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=6>\n        <v-text-field \n          label=\"本のタイトル\"\n          v-model=\"keyword\">\n        </v-text-field>\n      </v-col>\n    </v-row>\n    <v-row>\n      <v-col cols=\"3\">\n        <v-btn\n          color=\"primary\"\n          @click=\"search(keyword)\">\n          検索する\n        </v-btn>\n      </v-col>\n      <v-col cols=\"3\">\n        <!-- ボタンの中でtoを設定することでジャンプできる -->\n        <v-btn\n          color:\n          to=\"/\"\n          >一覧に戻る\n        </v-btn>\n      </v-col>\n    </v-row>\n    <v-row>\n      <!-- カードを表示 -->\n      <v-col \n        cols=\"12\" md=\"6\"\n        v-for=\"(book,index) in searchResults\" :key=\"book.index\">\n        <!-- mx-autoでmargin横幅の自動調整 -->\n        <v-card class=\"mx-auto\">\n          <v-row>\n            <!-- 画像のサイズ -->\n            <v-col cols=\"4\">\n              <v-img :src=\"book.image\"></v-img>\n            </v-col>\n            <!-- 写真以外の情報 -->\n            <v-col cols=\"8\">\n              <v-card-title>\n                {{ book.title}}\n              </v-card-title>\n              {{ book.description }}\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-btn \n                class=\"mx-2\" \n                fab dark color=\"indigo\"\n                @click=\"addBookList(index)\">\n                  <v-icon dark>\n                    mdi-plus\n                  </v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-col>\n          </v-row>\n        </v-card> \n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  // コンポーネントに名前をつける\n  name: 'BookSearch',\n  data(){\n    return {\n      keyword:'',\n      searchResults:[]\n    }\n  },\n  methods:{\n    addBookList(index) {\n      // クリックした箇所を指定\n      this.$emit('add-book-list',this.searchResults[index])\n    },\n    async search(keyword){\n      this.searchResults = []\n    // クエリーストリングを作成\n    const baseUrl = 'https://www.googleapis.com/books/v1/volumes?'\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults:40\n    }\n    const queryParams = new URLSearchParams(params)\n    console.log(baseUrl + queryParams)\n    // fetchでJSON取得\n    const response = await fetch(baseUrl + queryParams)\n    .then( response => response.json())\n    console.log(response.items)\n    // 必要な情報を配列にpush\n    for(let book of response.items ){\n      let title = book.volumeInfo.title\n      let img = book.volumeInfo.imageLinks\n      let description = book.volumeInfo.description\n      this.searchResults.push({\n        title: title ? title : '',\n        image: img ? img.thumbnail : '',\n        description: description ? description.slice(0, 40) : ''\n      })\n    }\n  }\n}\n}\n</script>\n\n<style scoped>\n  \n</style>"]}]}