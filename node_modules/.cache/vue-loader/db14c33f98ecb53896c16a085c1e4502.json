{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/Search.vue","mtime":1616061401623},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAvLyDjgrPjg7Pjg53jg7zjg43jg7Pjg4jjgavlkI3liY3jgpLjgaTjgZHjgosKICBuYW1lOiAnQm9va1NlYXJjaCcsCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAga2V5d29yZDonJywKICAgICAgc2VhcmNoUmVzdWx0czpbXQogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICBhc3luYyBzZWFyY2goa2V5d29yZCl7CiAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IFtdCiAgICAvLyDjgq/jgqjjg6rjg7zjgrnjg4jjg6rjg7PjgrDjgpLkvZzmiJAKICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEvdm9sdW1lcz8nCiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBxOiBgaW50aXRsZToke2tleXdvcmR9YCwKICAgICAgICBtYXhSZXN1bHRzOjQwCiAgICB9CiAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGFyYW1zKQogICAgY29uc29sZS5sb2coYmFzZVVybCArIHF1ZXJ5UGFyYW1zKQoKICAgIC8vIGZldGNo44GnSlNPTuWPluW+lwogICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChiYXNlVXJsICsgcXVlcnlQYXJhbXMpCiAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgY29uc29sZS5sb2cocmVzcG9uc2UuaXRlbXMpCiAgICAvLyDlv4XopoHjgarmg4XloLHjgpLphY3liJfjgatwdXNoCiAgICBmb3IobGV0IGJvb2sgb2YgcmVzcG9uc2UuaXRlbXMgKXsKICAgICAgbGV0IHRpdGxlID0gYm9vay52b2x1bWVJbmZvLnRpdGxlCiAgICAgIGxldCBpbWcgPSBib29rLnZvbHVtZUluZm8uaW1hZ2VMaW5rcwogICAgICBsZXQgZGVzY3JpcHRpb24gPSBib29rLnZvbHVtZUluZm8uZGVzY3JpcHRpb24KICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnB1c2goewogICAgICAgIHRpdGxlOiB0aXRsZSA/IHRpdGxlIDogJycsCiAgICAgICAgaW1hZ2U6IGltZyA/IGltZy50aHVtYm5haWwgOiAnJywKICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPyBkZXNjcmlwdGlvbi5zbGljZSgwLCA0MCkgOiAnJwogICAgICB9KQogICAgfQogIH0KfQp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <v-container>\n      <v-row>\n        <v-col cols=6>\n          <v-text-field \n            label=\"本のタイトル\"\n            v-model=\"keyword\">\n          </v-text-field>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"3\">\n          <v-btn\n            color=\"primary\"\n            @click=\"search(keyword)\">\n            検索する\n          </v-btn>\n        </v-col>\n        <v-col cols=\"3\">\n          <!-- ボタンの中でtoを設定することでジャンプできる -->\n          <v-btn\n            color:\n            to=\"/\"\n            >一覧に戻る\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  // コンポーネントに名前をつける\n  name: 'BookSearch',\n  data(){\n    return {\n      keyword:'',\n      searchResults:[]\n    }\n  },\n  methods:{\n    async search(keyword){\n      this.searchResults = []\n    // クエリーストリングを作成\n    const baseUrl = 'https://www.googleapis.com/books/v1/volumes?'\n      const params = {\n        q: `intitle:${keyword}`,\n        maxResults:40\n    }\n    const queryParams = new URLSearchParams(params)\n    console.log(baseUrl + queryParams)\n\n    // fetchでJSON取得\n    const response = await fetch(baseUrl + queryParams)\n    .then( response => response.json())\n    console.log(response.items)\n    // 必要な情報を配列にpush\n    for(let book of response.items ){\n      let title = book.volumeInfo.title\n      let img = book.volumeInfo.imageLinks\n      let description = book.volumeInfo.description\n      this.searchResults.push({\n        title: title ? title : '',\n        image: img ? img.thumbnail : '',\n        description: description ? description.slice(0, 40) : ''\n      })\n    }\n  }\n}\n}\n</script>\n\n<style>\n\n</style>"]}]}