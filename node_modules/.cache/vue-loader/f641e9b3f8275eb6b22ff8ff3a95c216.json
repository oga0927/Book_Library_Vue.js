{"remainingRequest":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/src/pages/BookEdit.vue","mtime":1616246699211},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oga0927/Desktop/Book_Library_Vue.js/bookapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOidCb29rRWRpdCcsCiAgcHJvcHM6ewogICAgYm9va3M6QXJyYXkKICB9LAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgYm9vazonJywKICAgICAgZGF0ZTogJycsCiAgICAgIG1lbnU6IGZhbHNlLAogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICB1cGRhdGVCb29rSW5mbygpewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGUtYm9vay1pbmZvJyx7CiAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICByZWFkRGF0ZTogdGhpcy5kYXRlLAogICAgICAgIG1lbW86IHRoaXMuYm9vay5tZW1vCiAgICAgIH0pCiAgICB9CiAgfSwKICBiZWZvcmVSb3V0ZUVudGVyICh0bywgZnJvbSwgbmV4dCkgewogIG5leHQodm0gPT4gewogICAgLy8gYHZtYCDjgpLpgJrjgZjjgabjgrPjg7Pjg53jg7zjg43jg7Pjg4jjgqTjg7Pjgrnjgr/jg7PjgrnjgavjgqLjgq/jgrvjgrkKICAgIHZtLiRuZXh0VGljaygoKT0+ewogICAgICB2bS5ib29rID0gdm0uYm9va3Nbdm0uJHJvdXRlLnBhcmFtcy5pZF0KICAgICAgaWYodm0uYm9vay5yZWFkRGF0ZSl7CiAgICAgICAgdm0uZGF0ZSA9IHZtLmJvb2sucmVhZERhdGUKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5kYXRlID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCkKICAgICAgfQogICAgICAvLyBjb25zb2xlLmxvZyh2bS5ib29rKQogICAgfSkKICB9KQp9Cn0K"},{"version":3,"sources":["BookEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookEdit.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card class=\"mx-auto\">\n          <v-row>\n            <v-col cols=\"4\">\n              <v-img :src=\"book.image\"></v-img>\n            </v-col>\n            <v-col cols=\"8\">\n              <v-card-title>\n                タイトル：{{ book.title }}\n              </v-card-title>\n              読んだ日：\n               <v-menu\n                v-model=\"menu\"\n                :close-on-content-click=\"false\"\n                :nudge-right=\"40\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on, attrs }\">\n                  <v-text-field\n                    v-model=\"date\"\n                    readonly\n                    v-bind=\"attrs\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker \n                  v-model=\"date\" \n                  @input=\"menu = false\"\n                  locale=\"jp-ja\"\n                  :day-format=\"date => new Date(date).getDate()\">\n                </v-date-picker>\n              </v-menu>\n              感想：<v-textarea\n              class=\"mx-2\" v-model=\"book.memo\">\n              {{book.memo }}\n              </v-textarea>\n              \n              <v-card-actions>\n                <v-btn color=\"secondary\" to=\"/\">一覧に戻る</v-btn>\n                <v-btn color=\"info\" \n                @click=\"updateBookInfo\">保存する</v-btn>\n              </v-card-actions> \n            </v-col>\n          </v-row>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name:'BookEdit',\n  props:{\n    books:Array\n  },\n  data(){\n    return{\n      book:'',\n      date: '',\n      menu: false,\n    }\n  },\n  methods:{\n    updateBookInfo(){\n      this.$emit('update-book-info',{\n        id: this.$route.params.id,\n        readDate: this.date,\n        memo: this.book.memo\n      })\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n  next(vm => {\n    // `vm` を通じてコンポーネントインスタンスにアクセス\n    vm.$nextTick(()=>{\n      vm.book = vm.books[vm.$route.params.id]\n      if(vm.book.readDate){\n        vm.date = vm.book.readDate\n      } else {\n        vm.date = new Date().toISOString().substr(0, 10)\n      }\n      // console.log(vm.book)\n    })\n  })\n}\n}\n</script>\n\n<style>\n\n</style>"]}]}